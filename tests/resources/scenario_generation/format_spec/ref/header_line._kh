// Scenario for task train_predictor
// Dictionary file and class settings
ClassManagement.OpenFile
ClassFileName \tmp\dictionary.kdic
OK
ClassManagement.ClassName Accident

// Train/test database settings
TrainDatabase.DatabaseFiles.List.Key Accident
TrainDatabase.DatabaseFiles.DataTableName /tmp/Accidents.txt
TrainDatabase.DatabaseFiles.List.Key Accident`Vehicles
TrainDatabase.DatabaseFiles.DataTableName /tmp/Vehicules.txt
TrainDatabase.HeaderLineUsed true
TrainDatabase.FieldSeparator
TrainDatabase.SampleNumberPercentage 70.0
TrainDatabase.SamplingMode Include sample
TrainDatabase.SelectionAttribute 
TrainDatabase.SelectionValue 
TrainDatabase.TestDatabaseSpecificationMode Complementary

// Target variable
AnalysisSpec.TargetAttributeName Gravity
AnalysisSpec.MainTargetModality 

// Predictors to train
AnalysisSpec.PredictorsSpec.SelectiveNaiveBayesPredictor true
AnalysisSpec.PredictorsSpec.AdvancedSpec.UnivariatePredictorNumber 0

// Selective Naive Bayes settings
AnalysisSpec.PredictorsSpec.AdvancedSpec.InspectSelectiveNaiveBayesParameters
TrainParameters.MaxEvaluatedAttributeNumber 0
SelectionParameters.MaxSelectedAttributeNumber 0
Exit

// Feature engineering
AnalysisSpec.PredictorsSpec.ConstructionSpec.MaxTreeNumber 0
AnalysisSpec.PredictorsSpec.ConstructionSpec.MaxAttributePairNumber 0
AnalysisSpec.PredictorsSpec.AdvancedSpec.InspectAttributePairsParameters
AllAttributePairs true
Exit
AnalysisSpec.PredictorsSpec.ConstructionSpec.MaxConstructedAttributeNumber 100
AnalysisSpec.PredictorsSpec.AdvancedSpec.InspectConstructionDomain
Exit

// Data preparation (discretization & grouping) settings
AnalysisSpec.PreprocessingSpec.TargetGrouped false
AnalysisSpec.PreprocessingSpec.DiscretizerSpec.SupervisedMethodName MODL
AnalysisSpec.PreprocessingSpec.DiscretizerSpec.UnsupervisedMethodName MODL
AnalysisSpec.PreprocessingSpec.DiscretizerSpec.MinIntervalFrequency 0
AnalysisSpec.PreprocessingSpec.DiscretizerSpec.MaxIntervalNumber 0
AnalysisSpec.PreprocessingSpec.GrouperSpec.SupervisedMethodName MODL
AnalysisSpec.PreprocessingSpec.GrouperSpec.UnsupervisedMethodName MODL
AnalysisSpec.PreprocessingSpec.GrouperSpec.MinGroupFrequency 0
AnalysisSpec.PreprocessingSpec.GrouperSpec.MaxGroupNumber 0

// Output settings
AnalysisResults.ResultFilesDirectory \tmp\results_dir\
AnalysisResults.ResultFilesPrefix 

// Build model
ComputeStats

// End of scenario for task train_predictor

// Exit Khiops
ClassManagement.Quit
OK
